<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>PDD TEST PRO</title>
    <style>
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body, html { height: 100%; width: 100%; overflow: hidden; background: #000; }

        /* –ò–∑–æ–ª–∏—Ä—É–µ–º iframe, —á—Ç–æ–±—ã –æ–Ω –Ω–µ –≤–æ—Ä–æ–≤–∞–ª –∫–ª–∏–∫–∏ */
        #frame { width: 100%; height: 100%; border: none; z-index: 1; }

        #menu { 
            position: fixed; bottom: 0; left: 0; right: 0; height: 90vh;
            background: #fff; border-radius: 30px 30px 0 0;
            z-index: 9999; /* –í—Å–µ–≥–¥–∞ —Å–≤–µ—Ä—Ö—É */
            box-shadow: 0 -10px 20px rgba(0,0,0,0.3);
            transform: translateY(calc(90vh - 70px));
            transition: transform 0.3s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .handle { height: 70px; display: flex; align-items: center; justify-content: center; touch-action: none; }
        .line { width: 60px; height: 6px; background: #999; border-radius: 5px; }
        
        #content { height: calc(100% - 70px); overflow-y: auto; padding: 20px; }
        .btn { display: block; width: 100%; padding: 18px; margin-bottom: 12px; background: #f0f0f0; border: none; border-radius: 15px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>

<iframe id="frame" src="about:blank"></iframe>

<div id="menu">
    <div class="handle" id="handle"><div class="line"></div></div>
    <div id="content">
        <button class="btn" style="background:#007aff; color:#fff;" onclick="window.open('https://pddtest.kz/auth', '_blank')">üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (–≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ)</button>
        <div id="links"></div>
    </div>
</div>

<script>
    const links = [
        {name: "1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è", url: "https://pddtest.kz/tests/116573900"},
        {name: "2. –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π", url: "https://pddtest.kz/tests/116694380"}
    ];

    links.forEach(l => {
        document.getElementById('links').innerHTML += `<button class="btn" onclick="document.getElementById('frame').src='${l.url}'; toggleMenu(false)">${l.name}</button>`;
    });

    const menu = document.getElementById('menu');
    const handle = document.getElementById('handle');
    
    function toggleMenu(open) {
        menu.style.transform = open ? 'translateY(0)' : 'translateY(calc(90vh - 70px))';
    }

    // –°–≤–∞–π–ø —Å—Ç—Ä–æ–≥–æ –ø–æ handle
    let startY = 0;
    handle.addEventListener('touchstart', (e) => startY = e.touches[0].clientY, {passive: true});
    handle.addEventListener('touchend', (e) => {
        let diff = startY - e.changedTouches[0].clientY;
        if (Math.abs(diff) > 30) toggleMenu(diff > 0);
        else toggleMenu(menu.style.transform.includes('0px') ? false : true);
    }, {passive: true});
</script>
</body>
</html>
