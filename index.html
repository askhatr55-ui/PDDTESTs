<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>PDD TEST PRO</title>
    <style>
        :root { --blue: #007aff; --bg: #f5f5f7; }
        * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
        body, html { height: 100%; width: 100%; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; background: #000; overflow: hidden; }

        /* –î–µ—Å–∫—Ç–æ–ø-–≤–µ—Ä—Å–∏—è */
        #app-container { display: flex; height: 100%; width: 100%; }
        #sidebar { width: 300px; background: var(--bg); border-right: 1px solid #d1d1d6; overflow-y: auto; padding: 20px; }
        #main-view { flex-grow: 1; background: #fff; }
        iframe { width: 100%; height: 100%; border: none; }
        .btn { display: block; width: 100%; padding: 15px; margin-bottom: 10px; background: #fff; border: 1px solid #d1d1d6; border-radius: 16px; font-weight: 600; text-align: left; cursor: pointer; transition: 0.2s; }
        .btn:active { background: #e5e5ea; }

        /* –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
        @media (max-width: 768px) {
            #sidebar { display: none; }
            #ios-menu { display: block !important; touch-action: none; }
        }

        #ios-menu { 
            display: none; position: fixed; bottom: 0; left: 0; right: 0; z-index: 9999;
            background: rgba(255,255,255,0.98); backdrop-filter: blur(30px);
            border-radius: 30px 30px 0 0; box-shadow: 0 -10px 30px rgba(0,0,0,0.1);
            transform: translateY(calc(100% - 80px)); height: 85vh; padding-bottom: 40px;
        }
        .handle-bar { padding: 20px; display: flex; flex-direction: column; align-items: center; cursor: grab; }
        .handle-line { width: 50px; height: 6px; background: #c7c7cc; border-radius: 10px; margin-bottom: 15px; }
        #chapters-list { height: calc(100% - 80px); overflow-y: auto; padding: 0 20px; }
    </style>
</head>
<body>

<div id="app-container">
    <aside id="sidebar">
        <h2 style="margin-bottom: 20px; color: #1c1c1e;">PDD TEST PRO</h2>
        <div id="menu-pc"></div>
    </aside>
    <main id="main-view">
        <iframe id="frame" src="https://pddtest.kz/auth"></iframe>
    </main>
</div>

<nav id="ios-menu">
    <div class="handle-bar" id="drag-handle">
        <div class="handle-line"></div>
        <div style="font-weight: 800; color: #007aff; letter-spacing: 1px;">–ú–ï–ù–Æ –¢–ï–°–¢–û–í</div>
    </div>
    <div id="chapters-list"></div>
</nav>

<script>
    const chapters = [
        {name: "üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è", url: "https://pddtest.kz/auth"},
        {name: "1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è", url: "https://pddtest.kz/tests/116573900"},
        {name: "2. –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –≤–æ–¥–∏—Ç–µ–ª–µ–π", url: "https://pddtest.kz/tests/116694380"},
        {name: "3. –û–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–µ—à–µ—Ö–æ–¥–æ–≤", url: "https://pddtest.kz/tests/116694605"},
        {name: "4. –ü–∞—Å—Å–∞–∂–∏—Ä—ã", url: "https://pddtest.kz/tests/116694748"},
        {name: "5. –°–≤–µ—Ç–æ—Ñ–æ—Ä—ã", url: "https://pddtest.kz/tests/116695046"},
        {name: "6. –°–ø–µ—Ü—Å–∏–≥–Ω–∞–ª—ã", url: "https://pddtest.kz/tests/116695267"},
        {name: "7. –ê–≤–∞—Ä–∏–π–Ω–∞—è —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏—è", url: "https://pddtest.kz/tests/116695393"},
        {name: "8. –ú–∞–Ω–µ–≤—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ", url: "https://pddtest.kz/tests/116695609"},
        {name: "9. –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –¢–°", url: "https://pddtest.kz/tests/116695699"},
        {name: "10. –°–∫–æ—Ä–æ—Å—Ç—å", url: "https://pddtest.kz/tests/116695865"},
        {name: "11. –û–±–≥–æ–Ω –∏ —Ä–∞–∑—ä–µ–∑–¥", url: "https://pddtest.kz/tests/116695998"},
        {name: "12. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ —Å—Ç–æ—è–Ω–∫–∞", url: "https://pddtest.kz/tests/116696089"},
        {name: "13. –ü–µ—Ä–µ–∫—Ä–µ—Å—Ç–∫–∏", url: "https://pddtest.kz/tests/116696211"},
        {name: "14. –ü–µ—à–µ—Ö–æ–¥–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã", url: "https://pddtest.kz/tests/116696308"},
        {name: "15. –ñ–µ–ª–µ–∑–Ω–æ–¥–æ—Ä–æ–∂–Ω—ã–µ –ø—É—Ç–∏", url: "https://pddtest.kz/tests/116696386"},
        {name: "16. –ê–≤—Ç–æ–º–∞–≥–∏—Å—Ç—Ä–∞–ª–∏", url: "https://pddtest.kz/tests/116696458"},
        {name: "17. –ñ–∏–ª—ã–µ –∑–æ–Ω—ã", url: "https://pddtest.kz/tests/116696872"},
        {name: "18. –ú–∞—Ä—à—Ä—É—Ç–Ω—ã–µ –¢–°", url: "https://pddtest.kz/tests/116697005"},
        {name: "19. –°–≤–µ—Ç –∏ –∑–≤—É–∫", url: "https://pddtest.kz/tests/116697201"},
        {name: "20. –ë—É–∫—Å–∏—Ä–æ–≤–∫–∞", url: "https://pddtest.kz/tests/116697512"},
        {name: "21. –£—á–µ–±–Ω–∞—è –µ–∑–¥–∞", url: "https://pddtest.kz/tests/116697704"},
        {name: "22. –ü–µ—Ä–µ–≤–æ–∑–∫–∞ –ª—é–¥–µ–π", url: "https://pddtest.kz/tests/116697798"},
        {name: "23. –ü–µ—Ä–µ–≤–æ–∑–∫–∞ –≥—Ä—É–∑–æ–≤", url: "https://pddtest.kz/tests/116697917"},
        {name: "24. –í–µ–ª–æ—Å–∏–ø–µ–¥—ã –∏ –º–æ–ø–µ–¥—ã", url: "https://pddtest.kz/tests/116698038"},
        {name: "25. –ì—É–∂–µ–≤—ã–µ –ø–æ–≤–æ–∑–∫–∏", url: "https://pddtest.kz/tests/116698229"},
        {name: "üèÅ –í—Å–µ –¥–æ—Ä–æ–∂–Ω—ã–µ –∑–Ω–∞–∫–∏", url: "https://pddtest.kz/tests/116698417"}
    ];

    const frame = document.getElementById('frame'), menu = document.getElementById('ios-menu');
    chapters.forEach(c => {
        const btn = `<button class="btn" onclick="changePage('${c.url}')">${c.name}</button>`;
        document.getElementById('menu-pc').innerHTML += btn;
        document.getElementById('chapters-list').innerHTML += btn;
    });

    function changePage(url) { frame.src = url; menu.style.transform = ''; idleTime = 0; }

    // –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
    let idleTime = 0;
    setInterval(() => {
        idleTime++;
        if (idleTime >= 60 && frame.src !== "https://pddtest.kz/auth") { frame.src = "https://pddtest.kz/auth"; }
    }, 1000);
    window.onmousemove = window.ontouchstart = () => idleTime = 0;

    // –°–≤–∞–π–ø —Å –ø—Ä–∏–ª–∏–ø–∞–Ω–∏–µ–º
    const drag = document.getElementById('drag-handle');
    let startY = 0;
    drag.addEventListener('touchstart', (e) => { startY = e.touches[0].clientY; menu.style.transition = 'none'; }, {passive: true});
    drag.addEventListener('touchmove', (e) => {
        let diff = e.touches[0].clientY - startY;
        if (diff > 0) menu.style.transform = `translateY(${diff}px)`;
    }, {passive: true});
    drag.addEventListener('touchend', (e) => {
        menu.style.transition = '0.5s cubic-bezier(0.19, 1, 0.22, 1)';
        if ((startY - e.changedTouches[0].clientY) > 100) menu.style.transform = 'translateY(0)';
        else if ((e.changedTouches[0].clientY - startY) > 100) menu.style.transform = '';
        else menu.style.transform = '';
    }, {passive: true});
</script>
</body>
</html>
